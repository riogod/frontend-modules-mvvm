# –ó–∞–¥–∞—á–∞ 001: –†–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ (Monorepo Setup)

## –°—Ç–∞—Ç—É—Å: ‚ö™ –ù–µ –Ω–∞—á–∞—Ç–∞

## –û–ø–∏—Å–∞–Ω–∏–µ

–°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `packages/` –∏ –ø–µ—Ä–µ–Ω–æ—Å –±–∏–∑–Ω–µ—Å-–º–æ–¥—É–ª–µ–π (`todo`, `api_example`) –∏–∑ `host/src/modules/` –≤ `packages/`. Core –º–æ–¥—É–ª–∏ (`core`, `core.layout`) –æ—Å—Ç–∞—é—Ç—Å—è –≤ `host/src/modules/`, —Ç–∞–∫ –∫–∞–∫ —è–≤–ª—è—é—Ç—Å—è —á–∞—Å—Ç—å—é Host Application.

–≠—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞, –æ—Ç –∫–æ—Ç–æ—Ä–æ–π –∑–∞–≤–∏—Å—è—Ç –≤—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ —ç—Ç–∞–ø—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ MFE –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- –ù–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–±–∞–∑–æ–≤–∞—è –∑–∞–¥–∞—á–∞)

## –ü–æ–¥–∑–∞–¥–∞—á–∏

### 1. –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

- [ ] –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `packages/` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
- [ ] –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `packages/todo/`
- [ ] –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `packages/api_example/`

### 2. –ü–µ—Ä–µ–Ω–æ—Å –º–æ–¥—É–ª—è todo

- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `host/src/modules/todo/` –≤ `packages/todo/src/`
- [ ] –°–æ–∑–¥–∞—Ç—å `packages/todo/package.json`:
  ```json
  {
    "name": "@platform/module-todo",
    "version": "1.0.0",
    "type": "module",
    "main": "src/config/module_config.ts",
    "peerDependencies": {
      "react": "^19.0.0",
      "@platform/core": "workspace:*",
      "@platform/ui": "workspace:*"
    },
    "devDependencies": {
      "@platform/vite-config": "workspace:*",
      "typescript": "~5.9.3",
      "vite": "^7.2.1"
    }
  }
  ```
- [ ] –°–æ–∑–¥–∞—Ç—å `packages/todo/tsconfig.json`
- [ ] –£–¥–∞–ª–∏—Ç—å `host/src/modules/todo/` –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–µ—Ä–µ–Ω–æ—Å–∞

### 3. –ü–µ—Ä–µ–Ω–æ—Å –º–æ–¥—É–ª—è api_example

- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `host/src/modules/api_example/` –≤ `packages/api_example/src/`
- [ ] –°–æ–∑–¥–∞—Ç—å `packages/api_example/package.json`:
  ```json
  {
    "name": "@platform/module-api-example",
    "version": "1.0.0",
    "type": "module",
    "main": "src/config/module_config.ts",
    "peerDependencies": {
      "react": "^19.0.0",
      "@platform/core": "workspace:*",
      "@platform/ui": "workspace:*"
    },
    "devDependencies": {
      "@platform/vite-config": "workspace:*",
      "typescript": "~5.9.3",
      "vite": "^7.2.1"
    }
  }
  ```
- [ ] –°–æ–∑–¥–∞—Ç—å `packages/api_example/tsconfig.json`
- [ ] –£–¥–∞–ª–∏—Ç—å `host/src/modules/api_example/` –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–µ—Ä–µ–Ω–æ—Å–∞

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–Ω–µ–≤–æ–≥–æ package.json

- [ ] –î–æ–±–∞–≤–∏—Ç—å `packages/*` –≤ workspaces:
  ```json
  "workspaces": [
    "host",
    "packages/*",
    "config/*",
    "libs/*"
  ]
  ```

### 5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ tsconfig.base.json

- [ ] –î–æ–±–∞–≤–∏—Ç—å path mapping –¥–ª—è –º–æ–¥—É–ª–µ–π:
  ```json
  {
    "compilerOptions": {
      "paths": {
        "@platform/module-todo": ["packages/todo/src"],
        "@platform/module-todo/*": ["packages/todo/src/*"],
        "@platform/module-api-example": ["packages/api_example/src"],
        "@platform/module-api-example/*": ["packages/api_example/src/*"]
      }
    }
  }
  ```

### 6. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ host/src/modules/modules.ts

- [ ] –ò–∑–º–µ–Ω–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –¥–ª—è –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π:

  ```typescript
  // –ë—ã–ª–æ:
  import TodoConfig from './todo/config/module_config';
  // –°—Ç–∞–ª–æ:
  import TodoConfig from '@platform/module-todo/config/module_config';

  // –î–ª—è api_example - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –æ—Å—Ç–∞–µ—Ç—Å—è, –Ω–æ –ø—É—Ç—å –º–µ–Ω—è–µ—Ç—Å—è:
  config: import('@platform/module-api-example/config/module_config').then((m) => m.default),
  ```

### 7. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ host/src/modules/interface.ts

- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã Module –Ω–µ —Ç—Ä–µ–±—É—é—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [ ] –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –¥–ª—è remote –º–æ–¥—É–ª–µ–π (–±—É–¥–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–æ –≤ –∑–∞–¥–∞—á–µ 007)

### 8. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞

- [ ] –í—ã–ø–æ–ª–Ω–∏—Ç—å `npm install` –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ workspace –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –º–æ–¥—É–ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–µ–∑–æ–ª–≤—è—Ç—Å—è
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å `npm run dev` –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å `npm run lint` –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç

## Definition of Done (DoD)

1. ‚úÖ –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `packages/` —Å–æ–∑–¥–∞–Ω–∞ –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –º–æ–¥—É–ª–∏ `todo` –∏ `api_example`
2. ‚úÖ –ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π `package.json` —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
3. ‚úÖ Core –º–æ–¥—É–ª–∏ (`core`, `core.layout`) –æ—Å—Ç–∞—é—Ç—Å—è –≤ `host/src/modules/`
4. ‚úÖ Workspaces –≤ –∫–æ—Ä–Ω–µ–≤–æ–º `package.json` –æ–±–Ω–æ–≤–ª–µ–Ω—ã
5. ‚úÖ TypeScript paths –≤ `tsconfig.base.json` –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
6. ‚úÖ –ò–º–ø–æ—Ä—Ç—ã –≤ `host/src/modules/modules.ts` –æ–±–Ω–æ–≤–ª–µ–Ω—ã
7. ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ (`npm run dev`)
8. ‚úÖ –õ–∏–Ω—Ç–µ—Ä –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫ (`npm run lint`)
9. ‚úÖ –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
10. ‚úÖ HMR —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –º–æ–¥—É–ª–µ–π –∏–∑ `packages/`

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```
frontend-modules-mvvm/
‚îú‚îÄ‚îÄ packages/                          # üÜï –ë–∏–∑–Ω–µ—Å-–º–æ–¥—É–ª–∏ (MFE)
‚îÇ   ‚îú‚îÄ‚îÄ todo/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tsconfig.json
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ usecases/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ view/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ viewmodels/
‚îÇ   ‚îî‚îÄ‚îÄ api_example/
‚îÇ       ‚îú‚îÄ‚îÄ package.json
‚îÇ       ‚îú‚îÄ‚îÄ tsconfig.json
‚îÇ       ‚îî‚îÄ‚îÄ src/
‚îÇ           ‚îú‚îÄ‚îÄ config/
‚îÇ           ‚îú‚îÄ‚îÄ data/
‚îÇ           ‚îú‚îÄ‚îÄ models/
‚îÇ           ‚îú‚îÄ‚îÄ usecases/
‚îÇ           ‚îú‚îÄ‚îÄ view/
‚îÇ           ‚îî‚îÄ‚îÄ viewmodels/
‚îú‚îÄ‚îÄ host/
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îî‚îÄ‚îÄ modules/
‚îÇ           ‚îú‚îÄ‚îÄ core/                  # INIT –º–æ–¥—É–ª—å (–æ—Å—Ç–∞–µ—Ç—Å—è)
‚îÇ           ‚îú‚îÄ‚îÄ core.layout/           # INIT –º–æ–¥—É–ª—å (–æ—Å—Ç–∞–µ—Ç—Å—è)
‚îÇ           ‚îú‚îÄ‚îÄ interface.ts
‚îÇ           ‚îî‚îÄ‚îÄ modules.ts             # –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã
‚îú‚îÄ‚îÄ libs/                              # Shared –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
‚îú‚îÄ‚îÄ config/                            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ package.json                       # –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ workspaces
```

## –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

| –†–∏—Å–∫                        | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –í–ª–∏—è–Ω–∏–µ | –ú–∏—Ç–∏–≥–∞—Ü–∏—è                                                |
| --------------------------- | ----------- | ------- | -------------------------------------------------------- |
| –ü–æ–ª–æ–º–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤            | –í—ã—Å–æ–∫–∞—è     | –í—ã—Å–æ–∫–æ–µ | –¢—â–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∏–º–ø–æ—Ä—Ç–æ–≤, –∑–∞–ø—É—Å–∫ –ª–∏–Ω—Ç–µ—Ä–∞        |
| –ü—Ä–æ–±–ª–µ–º—ã —Å TypeScript paths | –°—Ä–µ–¥–Ω—è—è     | –°—Ä–µ–¥–Ω–µ–µ | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑–æ–ª–≤–∞ —á–µ—Ä–µ–∑ IDE –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º                |
| –ü—Ä–æ–±–ª–µ–º—ã —Å npm workspaces   | –ù–∏–∑–∫–∞—è      | –°—Ä–µ–¥–Ω–µ–µ | –£–¥–∞–ª–∏—Ç—å node_modules –∏ package-lock.json, –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å |

## –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è: **4-6 —á–∞—Å–æ–≤**

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–π –∑–∞–¥–∞—á–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–∞ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Module Federation
- Core –º–æ–¥—É–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è –≤ host, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ —è–≤–ª—è—é—Ç—Å—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π —á–∞—Å—Ç—å—é Shell –∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è —É–¥–∞–ª–µ–Ω–Ω–æ
- –í—Ä–µ–º–µ–Ω–Ω–æ –º–æ–¥—É–ª–∏ –±—É–¥—É—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ TypeScript paths, –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º (–∑–∞–¥–∞—á–∞ 006) –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã Vite –∞–ª–∏–∞—Å—ã
