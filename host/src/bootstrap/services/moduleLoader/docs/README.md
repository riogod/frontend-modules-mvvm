# ModuleLoader - –ü–æ–¥—Ä–æ–±–Ω–∞—è –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
3. [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã](#–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-—Å–∏—Å—Ç–µ–º—ã)
4. [–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –º–æ–¥—É–ª–µ–π](#–∂–∏–∑–Ω–µ–Ω–Ω—ã–π-—Ü–∏–∫–ª-–º–æ–¥—É–ª–µ–π)
5. [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–≤-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏)
6. [–†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã](#—Ä–µ–∂–∏–º—ã-—Ä–∞–±–æ—Ç—ã)
7. [–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏](#–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
8. [API Reference](#api-reference)
9. [UML –î–∏–∞–≥—Ä–∞–º–º—ã](#uml-–¥–∏–∞–≥—Ä–∞–º–º—ã)

---

## –û–±–∑–æ—Ä

`ModuleLoader` ‚Äî —ç—Ç–æ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–¥—É–ª—è–º–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. –û–Ω–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

- **–ó–∞–≥—Ä—É–∑–∫—É –º–æ–¥—É–ª–µ–π** –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é –∏–ª–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏** –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏
- **–ü—Ä–æ–≤–µ—Ä–∫—É —É—Å–ª–æ–≤–∏–π –∑–∞–≥—Ä—É–∑–∫–∏** (feature flags, permissions)
- **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é —Ä–µ—Å—É—Ä—Å–æ–≤** (–º–∞—Ä—à—Ä—É—Ç—ã, i18n)
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** —á–µ—Ä–µ–∑ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É

### –¢–∏–ø—ã –º–æ–¥—É–ª–µ–π

–°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑–ª–∏—á–∞–µ—Ç –¥–≤–∞ —Ç–∏–ø–∞ –º–æ–¥—É–ª–µ–π:

- **INIT –º–æ–¥—É–ª–∏** ‚Äî –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, —Å –≤—ã—Å–æ–∫–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º
- **NORMAL –º–æ–¥—É–ª–∏** ‚Äî –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–æ—Å–ª–µ INIT –º–æ–¥—É–ª–µ–π, –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –ø–æ —É—Ä–æ–≤–Ω—è–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

`ModuleLoader` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤:

1. **Facade** ‚Äî `ModuleLoader` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –µ–¥–∏–Ω—É—é —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞, —Å–∫—Ä—ã–≤–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
2. **Repository** ‚Äî `ModuleRegistry` —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∏ –ø–æ–∏—Å–∫–æ–º –º–æ–¥—É–ª–µ–π
3. **Observer** ‚Äî `ModuleStatusTracker` —É–≤–µ–¥–æ–º–ª—è–µ—Ç –æ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö —Å—Ç–∞—Ç—É—Å–æ–≤ –º–æ–¥—É–ª–µ–π
4. **Strategy** ‚Äî `InitLoadStrategy` –∏ `NormalLoadStrategy` –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏
5. **Builder** ‚Äî `DependencyLevelBuilder` —Å—Ç—Ä–æ–∏—Ç —É—Ä–æ–≤–Ω–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –°—Ö–µ–º–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                      ModuleLoader                            ‚îÇ
‚îÇ                    (Facade Pattern)                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ                   ‚îÇ                   ‚îÇ
        ‚ñº                   ‚ñº                   ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Registry    ‚îÇ  ‚îÇ StatusTracker ‚îÇ  ‚îÇ LifecycleMgr   ‚îÇ
‚îÇ  (Repository)  ‚îÇ  ‚îÇ   (Observer)   ‚îÇ  ‚îÇ               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ                   ‚îÇ                   ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ                   ‚îÇ                   ‚îÇ
        ‚ñº                   ‚ñº                   ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Condition    ‚îÇ  ‚îÇ  Dependency   ‚îÇ  ‚îÇ LoadStrategy  ‚îÇ
‚îÇ  Validator    ‚îÇ  ‚îÇ   Resolver    ‚îÇ  ‚îÇ  (Strategy)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

> üìä **UML –î–∏–∞–≥—Ä–∞–º–º—ã:** –ü–æ–¥—Ä–æ–±–Ω—ã–µ UML –¥–∏–∞–≥—Ä–∞–º–º—ã –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Ä–∞–∑–¥–µ–ª–µ [UML –î–∏–∞–≥—Ä–∞–º–º—ã](#uml-–¥–∏–∞–≥—Ä–∞–º–º—ã)

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π
   ‚îî‚îÄ> ModuleRegistry.addModule()
       ‚îî‚îÄ> –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤ (–¥–ª—è INIT)

2. –ó–∞–≥—Ä—É–∑–∫–∞ INIT –º–æ–¥—É–ª–µ–π
   ‚îî‚îÄ> InitLoadStrategy.loadModules()
       ‚îî‚îÄ> LifecycleManager.initializeModule()
           ‚îî‚îÄ> onModuleInit()
       ‚îî‚îÄ> LifecycleManager.registerModuleResources()
           ‚îî‚îÄ> –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ i18n

3. –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤
   ‚îî‚îÄ> ModuleLoader.preloadRoutes()
       ‚îî‚îÄ> INIT: —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
       ‚îî‚îÄ> NORMAL: –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ (–ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∞)

4. –ó–∞–≥—Ä—É–∑–∫–∞ NORMAL –º–æ–¥—É–ª–µ–π
   ‚îî‚îÄ> NormalLoadStrategy.loadModules()
       ‚îî‚îÄ> DependencyLevelBuilder.buildDependencyLevels()
       ‚îî‚îÄ> –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ —É—Ä–æ–≤–Ω—è–º
```

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### 1. ModuleLoader (Facade)

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `core/ModuleLoader.ts`

–ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å, –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É—é—â–∏–π —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**

- `init(bootstrap)` ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å Bootstrap
- `addModules(modules)` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π
- `initInitModules()` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ INIT –º–æ–¥—É–ª–µ–π
- `preloadRoutes()` ‚Äî –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- `loadNormalModules()` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ NORMAL –º–æ–¥—É–ª–µ–π
- `loadModuleByName(name)` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥—É–ª—è –ø–æ –∏–º–µ–Ω–∏

**–°–æ—Å—Ç–æ—è–Ω–∏–µ:**

- `initModulesLoadedFlag` ‚Äî —Ñ–ª–∞–≥ –∑–∞–≥—Ä—É–∑–∫–∏ INIT –º–æ–¥—É–ª–µ–π
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ (`initStrategy`, `normalStrategy`)

### 2. ModuleRegistry (Repository)

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `core/ModuleRegistry.ts`

–£–ø—Ä–∞–≤–ª—è–µ—Ç —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∏ –ø–æ–∏—Å–∫–æ–º –º–æ–¥—É–ª–µ–π.

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**

- `addModule(module)` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥—É–ª—è
- `getModule(name)` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –º–æ–¥—É–ª—è –ø–æ –∏–º–µ–Ω–∏
- `getModuleRoutes(module)` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –º–æ–¥—É–ª—è
- `loadModuleConfig(module)` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ:**

- `modulesByName` ‚Äî Map –º–æ–¥—É–ª–µ–π –ø–æ –∏–º–µ–Ω–∏ (O(1) –¥–æ—Å—Ç—É–ø)
- `routeToModuleCache` ‚Äî –∫–µ—à —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –º–∞—Ä—à—Ä—É—Ç–∞ –∫ –º–æ–¥—É–ª—é
- `routesCache` ‚Äî –∫–µ—à –º–∞—Ä—à—Ä—É—Ç–æ–≤ –º–æ–¥—É–ª–µ–π

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- –î–ª—è INIT –º–æ–¥—É–ª–µ–π –º–∞—Ä—à—Ä—É—Ç—ã –∫–µ—à–∏—Ä—É—é—Ç—Å—è —Å—Ä–∞–∑—É –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏
- –î–ª—è NORMAL –º–æ–¥—É–ª–µ–π —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –∫–æ–Ω—Ñ–∏–≥–æ–º –º–∞—Ä—à—Ä—É—Ç—ã –∫–µ—à–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏

### 3. ModuleStatusTracker (Observer)

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `core/ModuleStatusTracker.ts`

–û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å—ã –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª–µ–π –∏ —É–≤–µ–¥–æ–º–ª—è–µ—Ç –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤.

**–°—Ç–∞—Ç—É—Å—ã –º–æ–¥—É–ª–µ–π:**

```typescript
enum ModuleLoadStatus {
  PENDING = 'pending', // –û–∂–∏–¥–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∏
  LOADING = 'loading', // –í –ø—Ä–æ—Ü–µ—Å—Å–µ –∑–∞–≥—Ä—É–∑–∫–∏
  PRELOADED = 'preloaded', // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∂–µ–Ω (–º–∞—Ä—à—Ä—É—Ç—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã)
  LOADED = 'loaded', // –ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≥—Ä—É–∂–µ–Ω
  FAILED = 'failed', // –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏
}
```

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**

- `markAsLoading(module)` ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ "–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è"
- `markAsPreloaded(module)` ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ "–ø—Ä–µ–¥–∑–∞–≥—Ä—É–∂–µ–Ω"
- `markAsLoaded(module)` ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ "–∑–∞–≥—Ä—É–∂–µ–Ω"
- `markAsFailed(module, error)` ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ "–æ—à–∏–±–∫–∞"
- `onStatusChange(handler)` ‚Äî –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤

**–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:**

- `preloadingPromises` ‚Äî Map Promise –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∏
- `getOrCreatePreloadingPromise()` ‚Äî –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ race conditions

### 4. ConditionValidator

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `services/ConditionValidator.ts`

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª–µ–π.

**–ü—Ä–æ–≤–µ—Ä—è–µ–º—ã–µ —É—Å–ª–æ–≤–∏—è:**

1. **Feature Flags** ‚Äî —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ñ–ª–∞–≥–∏
2. **Permissions** ‚Äî –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
3. **Dependencies** ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª–µ–π

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**

- `validateLoadConditions(module, bootstrap, isModuleLoaded)` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —É—Å–ª–æ–≤–∏–π
- `validateLoadConditionsWithDetails()` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º
- `shouldSkipInPreload(module, bootstrap)` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞, –Ω—É–∂–Ω–æ –ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –º–æ–¥—É–ª—å –ø—Ä–∏ –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–µ

**–ü—Ä–∏–º–µ—Ä:**

```typescript
const canLoad = await conditionValidator.validateLoadConditions(
  module,
  bootstrap,
  (name) => statusTracker.isLoaded(name),
);
```

### 5. DependencyResolver

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `services/DependencyResolver.ts`

–£–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏.

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**

- `hasCircularDependencies(module)` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (—Å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º)
- `loadDependencies(module, bootstrap, loadFn, isLoadedFn)` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–æ–¥—É–ª—è
- `resolveDependencies(module)` ‚Äî —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**

- –ö–µ—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (`circularDepsCache`)
- –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª—è –º–æ–¥—É–ª–µ–π –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### 6. LifecycleManager

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `services/LifecycleManager.ts`

–£–ø—Ä–∞–≤–ª—è–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –º–æ–¥—É–ª–µ–π.

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**

- `initializeModule(module, bootstrap, skipOnModuleInit)` ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª—è (–≤—ã–∑–æ–≤ `onModuleInit`)
- `registerModuleResources(module, bootstrap, isModuleLoaded, autoLoadHandler)` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
- `registerModuleRoutes(module, bootstrap, autoLoadHandler)` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤
- `registerModuleI18n(module, bootstrap, isModuleLoaded)` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è i18n —Ä–µ—Å—É—Ä—Å–æ–≤

**–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –º–æ–¥—É–ª—è:**

1. –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è)
2. –í—ã–∑–æ–≤ `onModuleInit()` (–µ—Å–ª–∏ –Ω–µ –ø—Ä–æ–ø—É—â–µ–Ω)
3. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤
4. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è i18n —Ä–µ—Å—É—Ä—Å–æ–≤

### 7. Load Strategies

#### InitLoadStrategy

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `strategies/InitLoadStrategy.ts`

–°—Ç—Ä–∞—Ç–µ–≥–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ INIT –º–æ–¥—É–ª–µ–π.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É
- –ë–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Å–ª–æ–≤–∏–π –∑–∞–≥—Ä—É–∑–∫–∏
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `onModuleInit` –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è —Ä–µ—Å—É—Ä—Å—ã

#### NormalLoadStrategy

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `strategies/NormalLoadStrategy.ts`

–°—Ç—Ä–∞—Ç–µ–≥–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ NORMAL –º–æ–¥—É–ª–µ–π.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ —É—Ä–æ–≤–Ω—è–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏–π –∑–∞–≥—Ä—É–∑–∫–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π –º–æ–¥—É–ª—è

### 8. DependencyLevelBuilder

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `utils/DependencyLevelBuilder.ts`

–ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –º–æ–¥—É–ª–∏ –ø–æ —É—Ä–æ–≤–Ω—è–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏.

**–ê–ª–≥–æ—Ä–∏—Ç–º:**

1. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** –µ—Å–ª–∏ —É –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π –Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ–¥–∏–Ω —É—Ä–æ–≤–µ–Ω—å
2. –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã –º–æ–¥—É–ª–µ–π –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
3. –ù–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –º–æ–¥—É–ª–∏, –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∫–æ—Ç–æ—Ä—ã—Ö –≥–æ—Ç–æ–≤—ã
4. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏—Ö –≤ —Ç–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å
5. –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –¥–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π

**–ü—Ä–∏–º–µ—Ä:**

```
–ú–æ–¥—É–ª–∏:
- A (–Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
- B (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç A)
- C (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç A)
- D (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç B, C)

–£—Ä–æ–≤–Ω–∏:
Level 0: [A]
Level 1: [B, C]  (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)
Level 2: [D]
```

### 9. RemoteModuleLoader

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `services/RemoteModuleLoader.ts`

–ó–∞–≥—Ä—É–∂–∞–µ—Ç —É–¥–∞–ª–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏ —á–µ—Ä–µ–∑ Module Federation.

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**

- `loadRemoteModule(name, remoteEntry, options)` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –º–æ–¥—É–ª—è
- `clearCache()` ‚Äî –æ—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞
- `invalidateCache(name)` ‚Äî –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–µ—à–∞ –¥–ª—è –º–æ–¥—É–ª—è
- `reset()` ‚Äî –ø–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è (–¥–ª—è HMR –∏ —Ç–µ—Å—Ç–æ–≤)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
- –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –¢–∞–π–º–∞—É—Ç—ã –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∑–∞–≤–∏—Å–∞–Ω–∏—è
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Vite –∏ Webpack Module Federation

---

## –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –º–æ–¥—É–ª–µ–π

### –°—Ç–∞—Ç—É—Å—ã –º–æ–¥—É–ª–µ–π

```
PENDING ‚Üí LOADING ‚Üí PRELOADED ‚Üí LOADED
                ‚Üì
             FAILED
```

### –≠—Ç–∞–ø—ã –∑–∞–≥—Ä—É–∑–∫–∏

#### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–æ–¥—É–ª—è

```typescript
await moduleLoader.addModule(module);
```

- –ú–æ–¥—É–ª—å –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ `ModuleRegistry`
- –î–ª—è INIT –º–æ–¥—É–ª–µ–π –∫–µ—à–∏—Ä—É—é—Ç—Å—è –º–∞—Ä—à—Ä—É—Ç—ã
- –°—Ç–∞—Ç—É—Å: `PENDING`

#### 2. –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ (preload)

```typescript
await moduleLoader.preloadRoutes();
```

**–î–ª—è INIT –º–æ–¥—É–ª–µ–π:**

- –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –°—Ç–∞—Ç—É—Å: `PRELOADED` –∏–ª–∏ `LOADED`

**–î–ª—è NORMAL –º–æ–¥—É–ª–µ–π:**

- –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–ª—å–∫–æ –º–∞—Ä—à—Ä—É—Ç–æ–≤ (–¥–ª—è `router.start()`)
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –ø–æ–ª–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∞ (–Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç FCP/LCP)

#### 3. –ü–æ–ª–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

**INIT –º–æ–¥—É–ª–∏:**

```typescript
await moduleLoader.initInitModules();
```

- –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É
- –í—ã–∑–æ–≤ `onModuleInit()`
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ i18n
- –°—Ç–∞—Ç—É—Å: `LOADED`

**NORMAL –º–æ–¥—É–ª–∏:**

```typescript
await moduleLoader.loadNormalModules();
```

- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ —É—Ä–æ–≤–Ω—è–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏–π –∑–∞–≥—Ä—É–∑–∫–∏
- –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –í—ã–∑–æ–≤ `onModuleInit()`
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ i18n
- –°—Ç–∞—Ç—É—Å: `LOADED`

#### 4. –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ –º–∞—Ä—à—Ä—É—Ç—É

```typescript
moduleLoader.autoLoadModuleByRoute(routeName);
```

- –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥—É–ª—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ –º–∞—Ä—à—Ä—É—Ç
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏–π –∑–∞–≥—Ä—É–∑–∫–∏
- –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

### –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–∑–æ–≤–æ–≤

#### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Bootstrap

**–§–∞–π–ª:** `host/src/bootstrap/index.ts`

```typescript
export const initBootstrap = async (
  bootstrap: Bootstrap,
  config: IAppConfig,
): Promise<Bootstrap> => {
  const handler = new APIClientHandler(config);
  handler
    .setNext(new FederationSharedHandler(config))
    .setNext(new ModulesDiscoveryHandler(config)) // –ó–∞–≥—Ä—É–∑–∫–∞ –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞
    .setNext(new RouterHandler(config))
    .setNext(new DIHandler(config))
    .setNext(new InitI18nHandler(config))
    .setNext(new OnAppStartHandler(config))
    .setNext(new ModulesHandler(config)) // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ModuleLoader
    .setNext(new RouterPostHandler(config)) // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤
    .setNext(new HTTPErrorHandler(config));

  return await handler.handle(bootstrap);
};
```

#### 2. ModulesHandler

**–§–∞–π–ª:** `host/src/bootstrap/handlers/ModulesHandler.ts`

```typescript
export class ModulesHandler extends AbstractInitHandler {
  async handle(bootstrap: Bootstrap): Promise<Bootstrap> {
    // 1. –ü–æ–ª—É—á–µ–Ω–∏–µ discovered modules –∏–∑ –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞
    const discoveredModules = bootstrap.getDiscoveredModules();

    // 2. –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∏ discovered –º–æ–¥—É–ª–µ–π
    const allModules = [...localModules, ...discoveredModules];

    // 3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ModuleLoader
    bootstrap.initModuleLoader();

    // 4. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–æ–¥—É–ª–µ–π
    await bootstrap.moduleLoader.addModules(allModules);

    // 5. –ó–∞–≥—Ä—É–∑–∫–∞ INIT –º–æ–¥—É–ª–µ–π
    await bootstrap.moduleLoader.initInitModules();

    return await super.handle(bootstrap);
  }
}
```

**–ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:**

- –ü–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Router, DI, i18n
- –î–æ `RouterPostHandler`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**

- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç `ModuleLoader` —Å Bootstrap
- –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –≤—Å–µ –º–æ–¥—É–ª–∏ (INIT + NORMAL)
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç INIT –º–æ–¥—É–ª–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ

#### 3. RouterPostHandler

**–§–∞–π–ª:** `host/src/bootstrap/handlers/RouterPostHandler.ts`

```typescript
export class RouterPostHandler extends AbstractInitHandler {
  async handle(bootstrap: Bootstrap): Promise<Bootstrap> {
    // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏–∑ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
    await bootstrap.moduleLoader.preloadRoutes();

    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–æ—É—Ç–µ—Ä–∞
    bootstrap.routerService.router.setDependencies({
      di: bootstrap.di,
      menu: appMenu,
    });

    return await super.handle(bootstrap);
  }
}
```

**–ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:**

- –ü–æ—Å–ª–µ `ModulesHandler` (INIT –º–æ–¥—É–ª–∏ —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã)
- –î–æ —Å—Ç–∞—Ä—Ç–∞ —Ä–æ—É—Ç–µ—Ä–∞

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**

- –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∂–∞–µ—Ç –º–∞—Ä—à—Ä—É—Ç—ã INIT –º–æ–¥—É–ª–µ–π (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)
- –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∂–∞–µ—Ç –º–∞—Ä—à—Ä—É—Ç—ã NORMAL –º–æ–¥—É–ª–µ–π (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, —Ç–æ–ª—å–∫–æ –º–∞—Ä—à—Ä—É—Ç—ã)
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –ø–æ–ª–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É NORMAL –º–æ–¥—É–ª–µ–π (–ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∞)

#### 4. –ó–∞–≥—Ä—É–∑–∫–∞ NORMAL –º–æ–¥—É–ª–µ–π

**–§–∞–π–ª:** `host/src/main.tsx`

```typescript
initBootstrap(new Bootstrap(app_modules), appConfig).then((bootstrap) => {
  bootstrap.routerService.router.start(() => {
    // –†–µ–Ω–¥–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    createRoot(document.getElementById('root')!).render(/* ... */);

    // –ó–∞–≥—Ä—É–∑–∫–∞ NORMAL –º–æ–¥—É–ª–µ–π –ø–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    bootstrap.moduleLoader.loadNormalModules().catch((error) => {
      log.error('Error loading normal modules', error);
    });
  });
});
```

**–ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:**

- –ü–æ—Å–ª–µ `router.start()` –∏ –ø–µ—Ä–≤–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∞
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–µ–Ω–¥–µ—Ä

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**

- –ó–∞–≥—Ä—É–∂–∞–µ—Ç NORMAL –º–æ–¥—É–ª–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –ø–æ —É—Ä–æ–≤–Ω—è–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –í—ã–∑—ã–≤–∞–µ—Ç `onModuleInit()` –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–µ—Å—É—Ä—Å—ã

### –°—Ö–µ–º–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤—ã–∑–æ–≤–æ–≤

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    initBootstrap()                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
                            ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              ModulesDiscoveryHandler                        ‚îÇ
‚îÇ  - –ó–∞–≥—Ä—É–∑–∫–∞ –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞ —Å /app/start                         ‚îÇ
‚îÇ  - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–ø–æ—Å–æ–±–∞ –∑–∞–≥—Ä—É–∑–∫–∏ (LOCAL/REMOTE)            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
                            ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  ModulesHandler                             ‚îÇ
‚îÇ  1. bootstrap.initModuleLoader()                            ‚îÇ
‚îÇ  2. moduleLoader.addModules(allModules)                     ‚îÇ
‚îÇ  3. moduleLoader.initInitModules()  ‚Üê INIT –º–æ–¥—É–ª–∏           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
                            ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                RouterPostHandler                            ‚îÇ
‚îÇ  - moduleLoader.preloadRoutes()                             ‚îÇ
‚îÇ    ‚îú‚îÄ INIT: —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ (–º–∞—Ä—à—Ä—É—Ç—ã)                            ‚îÇ
‚îÇ    ‚îî‚îÄ NORMAL: —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ (—Ç–æ–ª—å–∫–æ –º–∞—Ä—à—Ä—É—Ç—ã)                   ‚îÇ
‚îÇ       ‚îî‚îÄ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ: –ø–æ–ª–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (–ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∞)       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
                            ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    router.start()                            ‚îÇ
‚îÇ  - –†–µ–Ω–¥–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è                                          ‚îÇ
‚îÇ  - moduleLoader.loadNormalModules()  ‚Üê NORMAL –º–æ–¥—É–ª–∏         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

### Development —Ä–µ–∂–∏–º

#### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **HMR (Hot Module Replacement)**
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª–µ–π –±–µ–∑ –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   - `RemoteModuleLoader.reset()` –¥–ª—è —Å–±—Ä–æ—Å–∞ –∫–µ—à–∞

2. **–õ–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏**
   - –ú–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ —á–µ—Ä–µ–∑ Vite –∞–ª–∏–∞—Å—ã
   - `remoteEntry: ""` ‚Üí –∏–º–ø–æ—Ä—Ç —á–µ—Ä–µ–∑ `@platform/module-{name}`
   - –ù–∞—Ç–∏–≤–Ω—ã–π ESM –∏–º–ø–æ—Ä—Ç —Å HMR

3. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**
   - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å Promise (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞)
   - –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏

4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
   - –ü—Ä–µ—Ñ–∏–∫—Å—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

#### –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–æ–¥—É–ª—è (dev)

```typescript
const module: Module = {
  name: 'todo',
  loadType: ModuleLoadType.NORMAL,
  remoteEntry: '', // –ü—É—Å—Ç–æ–µ = LOCAL –º–æ–¥—É–ª—å
  config: () => import('@platform/module-todo').then((m) => m.default),
  // –∏–ª–∏
  config: Promise.resolve(moduleConfig),
};
```

#### –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥—É–ª–µ–π (dev)

```
1. ModulesDiscoveryHandler
   ‚îî‚îÄ> –ó–∞–≥—Ä—É–∑–∫–∞ –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞ —Å /app/start
   ‚îî‚îÄ> remoteEntry === "" ‚Üí LOCAL –º–æ–¥—É–ª—å

2. ModuleRegistry.loadModuleConfig()
   ‚îî‚îÄ> config instanceof Promise
   ‚îî‚îÄ> await config  ‚Üê –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç —á–µ—Ä–µ–∑ Vite alias
   ‚îî‚îÄ> module.config = resolvedConfig

3. LifecycleManager.initializeModule()
   ‚îî‚îÄ> await registry.loadModuleConfig(module)
   ‚îî‚îÄ> config.onModuleInit(bootstrap)
```

### Production —Ä–µ–∂–∏–º

#### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **–°–æ–±—Ä–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏**
   - –ú–æ–¥—É–ª–∏ —Å–æ–±—Ä–∞–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –±–∞–Ω–¥–ª—ã
   - `remoteEntry: "https://..."` ‚Üí –∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ Module Federation

2. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
   - –ö–µ—à –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
   - –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
   - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ INIT –∏ NORMAL –º–æ–¥—É–ª–µ–π
   - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ NORMAL –º–æ–¥—É–ª–µ–π –ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∞

4. **–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏ –∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è

#### –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–æ–¥—É–ª—è (production)

```typescript
const module: Module = {
  name: 'todo',
  loadType: ModuleLoadType.NORMAL,
  remoteEntry: 'https://cdn.example.com/modules/todo/1.0.0/remoteEntry.js',
  config: () => loadRemoteModule('todo', module.remoteEntry),
  // –∏–ª–∏
  config: Promise.resolve(moduleConfig),
};
```

#### –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥—É–ª–µ–π (production)

```
1. ModulesDiscoveryHandler
   ‚îî‚îÄ> –ó–∞–≥—Ä—É–∑–∫–∞ –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞ —Å /app/start
   ‚îî‚îÄ> remoteEntry === "https://..." ‚Üí REMOTE –º–æ–¥—É–ª—å

2. ModuleRegistry.loadModuleConfig()
   ‚îî‚îÄ> config instanceof Promise
   ‚îî‚îÄ> await config  ‚Üê –ó–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ RemoteModuleLoader
   ‚îî‚îÄ> module.config = resolvedConfig

3. RemoteModuleLoader.loadRemoteModule()
   ‚îî‚îÄ> –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–µ—à–∞
   ‚îî‚îÄ> –ó–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ Module Federation
   ‚îî‚îÄ> –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
```

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤

| –ê—Å–ø–µ–∫—Ç                | Development                 | Production                               |
| --------------------- | --------------------------- | ---------------------------------------- |
| **–ò—Å—Ç–æ—á–Ω–∏–∫ –º–æ–¥—É–ª–µ–π**  | –ò—Å—Ö–æ–¥–Ω–∏–∫–∏ —á–µ—Ä–µ–∑ Vite –∞–ª–∏–∞—Å—ã | –°–æ–±—Ä–∞–Ω–Ω—ã–µ –±–∞–Ω–¥–ª—ã —á–µ—Ä–µ–∑ Module Federation |
| **HMR**               | ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è           | ‚ùå –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è                     |
| **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**       | –ü–æ–¥—Ä–æ–±–Ω–æ–µ                   | –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ                              |
| **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ**       | –ú—è–≥–∫–æ–µ (–¥–ª—è HMR)            | –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ                              |
| **–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥–æ–≤** | –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç         | RemoteModuleLoader                       |
| **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**       | –ë–∞–∑–æ–≤—ã–µ                     | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ                             |

---

## –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### 1. –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

```typescript
// ModuleLoader.ts
private initStrategy: InitLoadStrategy | null = null;
private normalStrategy: NormalLoadStrategy | null = null;
```

–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è.

### 2. –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤

```typescript
// ModuleRegistry.ts
private readonly routesCache = new Map<string, RouteCacheEntry>();
```

–ú–∞—Ä—à—Ä—É—Ç—ã –∫–µ—à–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏.

### 3. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

```typescript
// ModuleLoader.preloadRoutes()
const configPromises = modules
  .filter((m) => m.config instanceof Promise)
  .map((m) => this.registry.loadModuleConfig(m));

await Promise.all(configPromises);
```

–í—Å–µ Promise-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ.

### 4. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ INIT –∏ NORMAL –º–æ–¥—É–ª–µ–π

```typescript
// ModuleLoader.preloadRoutes()
// INIT: —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ (–Ω—É–∂–Ω—ã –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∞)
// NORMAL: –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ (–Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç FCP/LCP)
```

INIT –º–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, NORMAL ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∞.

### 5. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```typescript
// DependencyResolver.ts
private readonly circularDepsCache = new Map<string, boolean>();

// –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª—è –º–æ–¥—É–ª–µ–π –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
if (!hasDependencies(module)) {
  return false;
}
```

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–µ—à–∏—Ä—É—é—Ç—Å—è, –º–æ–¥—É–ª–∏ –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è.

### 6. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è DependencyLevelBuilder

```typescript
// DependencyLevelBuilder.ts
// –ï—Å–ª–∏ —É –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π –Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, —Å—Ä–∞–∑—É –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–¥–∏–Ω —É—Ä–æ–≤–µ–Ω—å
const allModulesHaveNoDeps = modules.every((m) => !hasDependencies(m));
if (allModulesHaveNoDeps) {
  return { levels: [modules], skippedModules: [] };
}
```

–ë—ã—Å—Ç—Ä—ã–π –ø—É—Ç—å –¥–ª—è –º–æ–¥—É–ª–µ–π –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

### 7. –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ RemoteModuleLoader

```typescript
// RemoteModuleLoader.ts
private readonly cache = new Map<string, Promise<ModuleConfig>>();
```

–ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏ –∫–µ—à–∏—Ä—É—é—Ç—Å—è.

### 8. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

```typescript
// ModuleStatusTracker.ts
private readonly preloadingPromises = new Map<string, Promise<void>>();

getOrCreatePreloadingPromise(moduleName: string): Promise<void> {
  // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ race conditions
}
```

–û–¥–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –º–æ–¥—É–ª—å, –¥–∞–∂–µ –ø—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –≤—ã–∑–æ–≤–∞—Ö.

---

## API Reference

### ModuleLoader

#### –ú–µ—Ç–æ–¥—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

```typescript
init(bootstrap: Bootstrap): void
```

–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∑–∞–≥—Ä—É–∑—á–∏–∫ —Å Bootstrap.

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥—É–ª—è–º–∏

```typescript
addModule(module: Module): Promise<void>
addModules(modules: Module[]): Promise<void>
getModule(name: string): Module | undefined
getModules(): Module[]
hasModule(name: string): boolean
getModuleConfig(name: string): ModuleConfig | Promise<ModuleConfig> | undefined
getModulesByType(loadType: ModuleLoadType): Module[]
getModuleByRouteName(routeName: string): Module | undefined
```

#### –°—Ç–∞—Ç—É—Å—ã –º–æ–¥—É–ª–µ–π

```typescript
getModuleStatus(name: string): ModuleLoadStatus | undefined
isModuleLoaded(name: string): boolean
isModulePreloaded(name: string): boolean
get isInitModulesLoaded(): boolean
```

#### –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥—É–ª–µ–π

```typescript
initInitModules(): Promise<void>
loadNormalModules(): Promise<void>
preloadRoutes(): Promise<void>
loadModuleByName(name: string, options?: LoadModuleOptions): Promise<void>
autoLoadModuleByRoute(routeName: string): Promise<void>
```

### ModuleRegistry

```typescript
addModule(module: Module): Promise<void>
addModules(modules: Module[]): Promise<void>
getModule(name: string): Module | undefined
getModules(): Module[]
hasModule(name: string): boolean
getModuleRoutes(module: Module): Promise<IRoutes | undefined>
loadModuleConfig(module: Module): Promise<void>
```

### ModuleStatusTracker

```typescript
markAsLoading(module: Module): void
markAsPreloaded(module: Module): void
markAsLoaded(module: Module): void
markAsFailed(module: Module, error: unknown): void
getStatus(name: string): ModuleLoadStatus | undefined
isLoaded(name: string): boolean
isPreloaded(name: string): boolean
onStatusChange(handler: StatusChangeHandler): () => void
```

### ConditionValidator

```typescript
validateLoadConditions(
  module: Module,
  bootstrap: Bootstrap,
  isModuleLoaded: IsModuleLoadedFunction
): Promise<boolean>
validateLoadConditionsWithDetails(
  module: Module,
  bootstrap: Bootstrap,
  isModuleLoaded: IsModuleLoadedFunction
): Promise<ValidationResult>
shouldSkipInPreload(
  module: Module,
  bootstrap: Bootstrap
): Promise<boolean>
```

### DependencyResolver

```typescript
hasCircularDependencies(module: Module): boolean
loadDependencies(
  module: Module,
  bootstrap: Bootstrap,
  loadFn: (module: Module, bootstrap: Bootstrap) => Promise<void>,
  isLoadedFn: IsModuleLoadedFunction
): Promise<void>
clearCircularDepsCache(): void
```

### RemoteModuleLoader

```typescript
loadRemoteModule(
  name: string,
  remoteEntry: string,
  options?: LoadRemoteModuleOptions
): Promise<ModuleConfig>
clearCache(): void
invalidateCache(name: string): void
reset(): void
getCacheSize(): number
getLoadedScriptsCount(): number
```

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

`ModuleLoader` ‚Äî —ç—Ç–æ –º–æ—â–Ω–∞—è –∏ –≥–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª–µ–π, –∫–æ—Ç–æ—Ä–∞—è –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

- ‚úÖ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É –º–æ–¥—É–ª–µ–π —Å —É—á–µ—Ç–æ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫—É —É—Å–ª–æ–≤–∏–π –∑–∞–≥—Ä—É–∑–∫–∏ (feature flags, permissions)
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫—É –∫–∞–∫ –ª–æ–∫–∞–ª—å–Ω—ã—Ö, —Ç–∞–∫ –∏ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
- ‚úÖ –ì–∏–±–∫–æ—Å—Ç—å –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ production

–°–∏—Å—Ç–µ–º–∞ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Å —É—á–µ—Ç–æ–º –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ—ë –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ–π –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–π.

---

## UML –î–∏–∞–≥—Ä–∞–º–º—ã

–í –ø–∞–ø–∫–µ `docs/` –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ UML –¥–∏–∞–≥—Ä–∞–º–º—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ PlantUML (`.puml`):

### 1. Class Diagram (–î–∏–∞–≥—Ä–∞–º–º–∞ –∫–ª–∞—Å—Å–æ–≤)

**–§–∞–π–ª:** [`class-diagram.puml`](./class-diagram.puml)

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–ª–∞—Å—Å–æ–≤ —Å–∏—Å—Ç–µ–º—ã ModuleLoader, –∏—Ö –∞—Ç—Ä–∏–±—É—Ç—ã, –º–µ—Ç–æ–¥—ã –∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –º–µ–∂–¥—É –Ω–∏–º–∏.

**–û—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:**

- –ö–ª–∞—Å—Å—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (ModuleLoader, ModuleRegistry, ModuleStatusTracker –∏ –¥—Ä.)
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã (ILoadStrategy)
- Enums (ModuleLoadStatus, ModuleLoadType)
- –û—Ç–Ω–æ—à–µ–Ω–∏—è: –∫–æ–º–ø–æ–∑–∏—Ü–∏—è, –∞–≥—Ä–µ–≥–∞—Ü–∏—è, –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–ö–∞–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å:**

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ [PlantUML](https://plantuml.com/) –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
- –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ PlantUML –≤ –≤–∞—à–µ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ (VS Code, IntelliJ IDEA)
- –û–Ω–ª–∞–π–Ω —Ä–µ–¥–∞–∫—Ç–æ—Ä: http://www.plantuml.com/plantuml/uml/

### 2. Sequence Diagram (–î–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)

**–§–∞–π–ª:** [`sequence-diagram.puml`](./sequence-diagram.puml)

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –º–æ–¥—É–ª–µ–π.

**–û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:**

- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ModuleLoader
- –ó–∞–≥—Ä—É–∑–∫–∞ INIT –º–æ–¥—É–ª–µ–π
- –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –ó–∞–≥—Ä—É–∑–∫–∞ NORMAL –º–æ–¥—É–ª–µ–π

**–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**

- –ü–æ—Ä—è–¥–æ–∫ –≤—ã–∑–æ–≤–æ–≤ –º–µ—Ç–æ–¥–æ–≤
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- –£—Å–ª–æ–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã
- –ê–∫—Ç–∏–≤–∞—Ü–∏—é/–¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### 3. State Diagram (–î–∏–∞–≥—Ä–∞–º–º–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π)

**–§–∞–π–ª:** [`state-diagram.puml`](./state-diagram.puml)

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –º–æ–¥—É–ª—è —á–µ—Ä–µ–∑ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã.

**–°—Ç–∞—Ç—É—Å—ã:**

- `PENDING` ‚Üí `LOADING` ‚Üí `PRELOADED` ‚Üí `LOADED`
- `LOADING` ‚Üí `FAILED` (–ø—Ä–∏ –æ—à–∏–±–∫–µ)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- –†–∞–∑–¥–µ–ª—å–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ –¥–ª—è INIT –∏ NORMAL –º–æ–¥—É–ª–µ–π
- –£—Å–ª–æ–≤–∏—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏
- –û–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### 4. Component Diagram (–î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)

**–§–∞–π–ª:** [`component-diagram.puml`](./component-diagram.puml)

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å–∏—Å—Ç–µ–º—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ.

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞–∫–µ—Ç—ã:**

- Bootstrap System
- ModuleLoader Core
- ModuleLoader Services
- ModuleLoader Strategies
- ModuleLoader Utils
- External (Module Federation, Vite)

**–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**

- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –í–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### 5. Activity Diagram (–î–∏–∞–≥—Ä–∞–º–º–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏)

**–§–∞–π–ª:** [`activity-diagram.puml`](./activity-diagram.puml)

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª–µ–π –≤ –≤–∏–¥–µ –ø–æ—Ç–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π.

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã:**

- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Bootstrap
- –ó–∞–≥—Ä—É–∑–∫–∞ INIT –º–æ–¥—É–ª–µ–π
- –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –ó–∞–≥—Ä—É–∑–∫–∞ NORMAL –º–æ–¥—É–ª–µ–π

**–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**

- –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π
- –£—Å–ª–æ–≤–Ω—ã–µ –≤–µ—Ç–≤–ª–µ–Ω–∏—è
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
- –¶–∏–∫–ª—ã –∏ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è

### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∏–∞–≥—Ä–∞–º–º—ã

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –û–Ω–ª–∞–π–Ω —Ä–µ–¥–∞–∫—Ç–æ—Ä PlantUML

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.puml` –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
3. –í—Å—Ç–∞–≤—å—Ç–µ –≤ http://www.plantuml.com/plantuml/uml/
4. –î–∏–∞–≥—Ä–∞–º–º–∞ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

#### –í–∞—Ä–∏–∞–Ω—Ç 2: VS Code —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ "PlantUML" –≤ VS Code
2. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.puml`
3. –ù–∞–∂–º–∏—Ç–µ `Alt+D` –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞
4. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É "PlantUML: Export Current Diagram"

#### –í–∞—Ä–∏–∞–Ω—Ç 3: IntelliJ IDEA

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–ª–∞–≥–∏–Ω "PlantUML integration"
2. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.puml`
3. –î–∏–∞–≥—Ä–∞–º–º–∞ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

#### –í–∞—Ä–∏–∞–Ω—Ç 4: –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ PlantUML

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ npm
npm install -g node-plantuml

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PNG –∏–∑ PUML
puml generate class-diagram.puml -o class-diagram.png

# –ò–ª–∏ —á–µ—Ä–µ–∑ Java (—Ç—Ä–µ–±—É–µ—Ç—Å—è Java)
java -jar plantuml.jar class-diagram.puml
```

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- **–î–ª—è –∏–∑—É—á–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:** –Ω–∞—á–Ω–∏—Ç–µ —Å Component Diagram
- **–î–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Sequence Diagram
- **–î–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª–µ–π:** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Activity Diagram
- **–î–ª—è –∏–∑—É—á–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–ª–∞—Å—Å–æ–≤:** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Class Diagram
- **–î–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞:** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ State Diagram

–í—Å–µ –¥–∏–∞–≥—Ä–∞–º–º—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –∫–æ–¥–∞ –∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ —Å–∏—Å—Ç–µ–º–µ.
